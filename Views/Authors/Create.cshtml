@using CodifyProjectsBackend.Models

@model Author?


@{
    if (Model != null)
    {
        ViewBag.Title = "Редактирование автора";
    }
    else
    {
        ViewBag.Title = "Создание автора";
    }
}

<div class="create-author-page">
    <div class="page-header">
        <a href="/authors" class="btn-back">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            Назад к списку
        </a>
    </div>

    <div class="form-container">
        <div class="form-grid">
            <!-- Левая колонка - Основная информация -->
            <div class="form-section">
                <h3 class="section-title">Основная информация</h3>

                <div class="form-group">
                    <label for="fullNameInput">Полное имя</label>
                    <input type="text" name="fullNameInput" id="fullNameInput" placeholder="Введите имя автора" />
                </div>

                <div class="form-group">
                    <label for="ageInput">Возраст</label>
                    <input type="number" name="ageInput" id="ageInput" placeholder="Введите возраст" min="1" max="120" />
                </div>

                <div class="form-group">
                    <label for="testimonialInput">Отзыв</label>
                    <textarea name="testimonial" id="testimonialInput" rows="6" placeholder="Введите отзыв автора о курсе или опыте обучения..."></textarea>
                </div>

                <h3 class="section-title" style="margin-top: 32px;">Предыдущие навыки</h3>
                <div class="skills-manager">
                    <div class="skills-input-group">
                        <input type="text" id="previousSkillInput" placeholder="Добавить навык" />
                        <button type="button" class="btn-add-skill" onclick="addPreviousSkill()">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                            </svg>
                        </button>
                    </div>
                    <div class="skills-list" id="previousSkillsList">
                        <!-- Навыки будут добавляться сюда -->
                    </div>
                </div>

                <h3 class="section-title" style="margin-top: 24px;">Полученные навыки</h3>
                <div class="skills-manager">
                    <div class="skills-input-group">
                        <input type="text" id="obtainedSkillInput" placeholder="Добавить навык" />
                        <button type="button" class="btn-add-skill" onclick="addObtainedSkill()">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                            </svg>
                        </button>
                    </div>
                    <div class="skills-list" id="obtainedSkillsList">
                        <!-- Навыки будут добавляться сюда -->
                    </div>
                </div>
            </div>

            <!-- Правая колонка - Фото и навыки -->
            <div class="form-section">
                <h3 class="section-title">Фотография</h3>

                <div class="avatar-upload">
                    <div class="avatar-preview" id="avatarPreview">
                        <svg class="avatar-placeholder" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                        <img id="avatarImage" class="avatar-image" style="display: none;" />
                    </div>
                    <div class="avatar-actions">
                        <input type="file" id="avatarInput" accept="image/*" style="display: none;" />
                        <button type="button" class="btn-upload" onclick="document.getElementById('avatarInput').click()">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10M11.3333 5.33333L8 2M8 2L4.66667 5.33333M8 2V10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Загрузить фото
                        </button>
                        <button type="button" class="btn-remove" id="removeAvatarBtn" style="display: none;">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M2 4H14M6.5 7V11M9.5 7V11M3 4L4 13C4 13.5304 4.21071 14.0391 4.58579 14.4142C4.96086 14.7893 5.46957 15 6 15H10C10.5304 15 11.0391 14.7893 11.4142 14.4142C11.7893 14.0391 12 13.5304 12 13L13 4M5.5 4V2.5C5.5 2.36739 5.55268 2.24021 5.64645 2.14645C5.74021 2.05268 5.86739 2 6 2H10C10.1326 2 10.2598 2.05268 10.3536 2.14645C10.4473 2.24021 10.5 2.36739 10.5 2.5V4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Удалить
                        </button>
                    </div>
                </div>

                
            </div>
        </div>

        <div class="form-actions">
            <button type="button" class="btn-cancel" onclick="window.location.href='/authors'">Отмена</button>
            <button type="button" id="saveBtn" class="btn-save">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M13.3333 4L6 11.3333L2.66667 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Сохранить автора
            </button>
        </div>
    </div>
</div>

@section Styles {
    <link href="~/css/authors/create.css" rel="stylesheet" />
}

@section Scripts {
    <script src="~/js/authors/create.js"></script>
    <script>
        var author = @Html.Raw(Json.Serialize(Model))
        setAuthor(author);
    </script>
}